# common charmcraft.yaml file symlinked by these charms
# k8s charms can define containers + resources in metadata.yaml

name: temporal-host-info-provider
type: charm
summary: A small charm for use in integration tests.
description: A small charm for use in integration tests.

base: ubuntu@24.04
platforms:
  amd64:

parts:
  charm:
    source: .
    plugin: uv
    build-snaps: [astral-uv]

containers:
  workload:
    resource: workload

resources:
  workload:
    type: oci-image
    description: OCI image for the 'workload' container.
    upstream-source: ghcr.io/canonical/ubuntu-noble:latest

provides:
  temporal-host-info:
    interface: temporal-host-info
config:
  options:
    services:
      type: string
      default: frontend
      description: The Temporal services to run.
    external-hostname:
      type: string
      default: ""
      description: The external hostname to use.
